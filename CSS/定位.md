# 定位



## 为什么需要定位？

试问以下场景使用标准流或浮动流能够实现吗？

1. 一个元素可以在一个盒子内移动位置，并压住盒子。
2. 当滚动屏幕的时候，某个位置固定在屏幕上。



所以：

1. 浮动可以让多个块级盒子一行没有缝隙的排列在一行显示。
2. 定位可以让一个盒子在另一个盒子内自由移动。



## 定位的组成

定位 =  定位模式 + 边偏移。

定位模式 用于指定一个元素在文档中的定位方式。边偏移 则决定了该元素的最终位置 。



### 定位模式

定位模式决定元素的定位方式，他通过CSS 的position 属性来设置，有四个值：

| 值       | 语义     |
| -------- | -------- |
| static   | 静态定位 |
| relative | 相对定位 |
| absolute | 绝对定位 |
| fixed    | 固定定位 |

### 边偏移

| 边偏移属性 | 示例     | 描述                                           |
| ---------- | -------- | ---------------------------------------------- |
| top        | top:80px | 顶端偏移量，定义元素相对于其父元素上边线的距离 |
| bottom     |          | 底部  下边线                                   |
| left       |          | 左侧                                           |
| right      |          |                                                |



### 静态定位（了解）

静态定位是元素的默认定位方式，无定位的意思。

语法：

```
选择器{
	position：static;
}
```

- 静态定位按照标准流特性摆放位置，他没有边偏移。
- 静态定位在布局时很少用到。



### 相对定位 relative (重要)

<font color='red'>相对定位 </font>是在元素移动位置的时候，是相对于它 <font color="red"> 原来的位置</font>  来说的。 

语法：

```
选择器{
	position：relative;
}
```

- 相对于自己原来的位置来移动的。
- 原来在标准流 的位置继续占有，后面的盒子依然以标准流的方式来对待它。（不脱标，继续保留原来的位置）

因此，相对定位并没有脱离标准流。它最典型的应用是给绝对定位当父级元素。



### 绝对定位 absolute（重要)

**绝对定位** 是元素在移动的时候，是相对于他的**祖先元素**来说的。

```css
选择器{
	position：absolute;
}
```

绝对定位的特点：

1. 如果<font color="red">没有祖先元素</font>或者<font color='red'>祖先元素没有定位</font>,则该元素以浏览器为准定位，（Document 文档）。
2. 如果祖先元素有定位（相对，绝对，固定定位） ，则以最近一级的有定位祖先元素为参考点移动位置。
3. 绝对定位不再占有原先的位置。（脱标）



### 问题

1. 绝对定位和相对定位的使用场景分别是？
2. 为什么说相对定位给绝对定位当爹？

### 固定定位(fixed)

固定定位是元素固定于浏览器可视区的位置。比如广告之类。

固定定位的特点：

1. 以浏览器的可视窗口为参照点移动元素。
   1. 跟父元素没有任何关系
   2. 不随滚动条滚动
2. 固定定位不占有原先的位置。

固定定位也是脱标的，其实固定定位可以看作一种特殊的绝对定位。

### 粘性定位(sticky)

粘性定位 可以看做是相对定位 和固定定位的混合

特点：

1. 以浏览器的可视窗口为参照。
2. 粘性定位**占有原先的位置**。（相对定位的特点）
3. 必须添加至少一个边偏移才有效。

跟页面滚动搭配使用。兼容性较差，IE不支持。



### 定位叠放次序 z-index

- 数值可以是正数，负数，或0 ，默认是auto，数值越大，盒子越上。
- 如果属性值相同，则应用层叠，后来居上。
- 数值后面不能加单位。
- 只有有定位的盒子才有z-index 熟悉。



## 定位如何居中

**使用了定位的盒子不能使用 margin：auto  水平居中。**



### 绝对定位的居中：

水平居中：

1. left:50%;
2. margin-left:盒子宽度的一半;



垂直居中：

	1. top：50%；
 	2. margin-top:盒子高度的一半



### 定位特殊特性

**绝对定位**和**固定定位**也和浮动类似

1. 行内元素添加绝对或者或者固定定位，可以直接设置高度和宽度。
2. 块级元素添加绝对或者固定定位，如果不给宽高，则宽高是内容的宽高。
3. 脱标的盒子不会触发外边距合并。



### 绝对定位会完全压住盒子

绝对定位与浮动虽然都脱离了标准流，但是浮动并不会压住文字。

但是绝对定位（或固定定位）会压住标准流中所有的内容。

因为浮动的起因就是做文字环绕效果。